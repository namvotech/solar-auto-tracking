<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable id="IdZrGR2,|AMeHm`@N@=z">light1</variable><variable id="BHl}de=6;IzCK?o)/Dnv">light2</variable><variable id="xpE]C5BOXFFI.2rvc~C]">threshold</variable><variable id="u`mzLa^:Jwv%;,xe1zS6">servoAngle</variable><variable id="QD03:!aZ68b_6OaUoZ@e">item</variable></variables><block type="pxt-on-start" id="qpYUzn|_UojL3sIvMVR*" x="0" y="0"><statement name="HANDLER"><block type="variables_set" id="#XvBCf%OPk`TZPNf3PU("><field name="VAR" id="u`mzLa^:Jwv%;,xe1zS6">servoAngle</field><comment pinned="false" h="80" w="160">Góc ban đầu của servo</comment><data>{"commentRefs":[],"fieldData":{"~commentOffsetX":"-40","~commentOffsetY":"104"}}</data><value name="VALUE"><shadow type="math_number" id="ER@JTH)eb@TV5+=nfGg{"><field name="NUM">90</field></shadow></value><next><block type="variables_set" id="(8l2(|iklAV7)*z5[6SD"><field name="VAR" id="xpE]C5BOXFFI.2rvc~C]">threshold</field><comment pinned="false" h="80" w="160">Ngưỡng chênh lệch ánh sáng để điều chỉnh</comment><value name="VALUE"><shadow type="math_number" id="2VI;7+ms,5n^0M$`o0Gw"><field name="NUM">5</field></shadow></value><next><block type="serial_setbaudrate" id="[FO$rn6},52%(!+-Q3#,"><field name="rate">BaudRate.BaudRate115200</field><next><block type="makerbit_lcd_set_address" id="_Vy(b=q?3qGlA)wi,Ak7"><value name="i2cAddress"><shadow type="math_number_minmax" id="24w6Y/-@xjCiLS!4]BhF"><mutation min="0" max="127" label="I2cAddress" precision="0"></mutation><field name="SLIDER">33</field></shadow></value></block></next></block></next></block></next></block></statement></block><block type="device_forever" id="F~hVL}}sBY.%xrG:W|x:" x="1127" y="59"><statement name="HANDLER"><block type="controls_if" id="@b4,-mpI$#Z8`$8qGPnV"><mutation elseif="2"></mutation><value name="IF0"><shadow type="logic_boolean" id="*c.JnKvof#BM7s0|*wX="><field name="BOOL">TRUE</field></shadow><block type="device_get_button2" id="/I.m7~sxB*J=[QytS)i="><field name="NAME">Button.AB</field></block></value><statement name="DO0"><block type="variables_set" id="4|U+TqgBuSd{N.LtU_BA"><field name="VAR" id="xpE]C5BOXFFI.2rvc~C]">threshold</field><value name="VALUE"><shadow type="math_number" id="8#dl9A/m?[G[P8)I(byg"><field name="NUM">5</field></shadow></value></block></statement><value name="IF1"><shadow type="logic_boolean" id="M#$pjE8wd$)/LVhfxXY("><field name="BOOL">FALSE</field></shadow><block type="device_get_button2" id="kh1@ueqU(nn[*dD/[]Pd"><field name="NAME">Button.B</field></block></value><statement name="DO1"><block type="variables_change" id="Qe6+N9Z8c,.%)n~f(MKZ"><field name="VAR" id="xpE]C5BOXFFI.2rvc~C]">threshold</field><value name="VALUE"><shadow type="math_number" id="[rP,A~-d{hRB+t66L0e1"><field name="NUM">1</field></shadow></value></block></statement><value name="IF2"><shadow type="logic_boolean" id="4a3wReI9*I*4Om2j3L4B"><field name="BOOL">FALSE</field></shadow><block type="device_get_button2" id="(I*t=e_/CN||Efq..Qot"><field name="NAME">Button.A</field></block></value><statement name="DO2"><block type="variables_change" id="t6I:FzG.EFl+?IRdpXh{"><field name="VAR" id="xpE]C5BOXFFI.2rvc~C]">threshold</field><value name="VALUE"><shadow type="math_number" id="cSWS9_HQ;YI0Akhba_gA"><field name="NUM">-1</field></shadow></value></block></statement><next><block type="device_pause" id="e6X~CR#|N:B@2eFryLs6"><value name="pause"><shadow type="timePicker" id="JVf`!XD-}SJvXh,xcsWI"><field name="ms">100</field></shadow></value></block></next></block></statement></block><block type="device_forever" id="9h.0WcsPwR7UEx0yN._Y" x="-1" y="324"><comment pinned="false" h="80" w="160">Ngưỡng chênh lệch ánh sáng để điều chỉnh</comment><statement name="HANDLER"><block type="variables_set" id="Tr}J9L-ZllFe`_=g@e[I"><field name="VAR" id="IdZrGR2,|AMeHm`@N@=z">light1</field><comment pinned="false" h="80" w="160">Đọc giá trị từ cảm biến 1</comment><value name="VALUE"><shadow type="math_number" id="6$Ty5rN,g$Tnq*4/?6!o"><field name="NUM">0</field></shadow><block type="device_get_analog_pin" id="R0tSL6f-ujC:.cIB=g_s"><value name="name"><shadow type="analog_read_write_pin_shadow" id="fVkor/{RJy]Jr4W`;:uu"><field name="pin">AnalogReadWritePin.P0</field></shadow><block type="analog_pin" id="$$GVOKU*|H8yPmKNE63_"><field name="pin">AnalogPin.P0</field></block></value></block></value><next><block type="variables_set" id="=.huf1Oslb7;~[Z)w=bF"><field name="VAR" id="BHl}de=6;IzCK?o)/Dnv">light2</field><comment pinned="false" h="80" w="160">Đọc giá trị từ cảm biến 2</comment><value name="VALUE"><shadow type="math_number" id="m.En;X~2Wj]k(hQy8ZZ*"><field name="NUM">0</field></shadow><block type="device_get_analog_pin" id="m}RgQ$j}}v=NF;#{Eopy"><value name="name"><shadow type="analog_read_write_pin_shadow" id="|idrx8sT~ReL2?=fkT4Q"><field name="pin">AnalogReadWritePin.P0</field></shadow><block type="analog_pin" id="Lcm(fw#0^U]Y%`gv4F%^"><field name="pin">AnalogPin.P1</field></block></value></block></value><next><block type="controls_if" id="pUktG}m{Dhb*T;dSQ6RU"><mutation elseif="1"></mutation><comment pinned="false" h="80" w="160">So sánh ánh sáng và điều chỉnh servo</comment><data>{"commentRefs":[],"fieldData":{"~commentOffsetX":"-40","~commentOffsetY":"-128"}}</data><value name="IF0"><shadow type="logic_boolean" id="(;5-;0[v:m_B]M^r_fA|"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="jofQ{:P](i(:OjzNK_*B"><field name="OP">GT</field><value name="A"><shadow type="math_number" id="a[c;LTselBo+?ZE}k1qB"><field name="NUM">0</field></shadow><block type="variables_get" id="-LV(BL|+g;ab:v+p:Pj("><field name="VAR" id="IdZrGR2,|AMeHm`@N@=z">light1</field></block></value><value name="B"><shadow type="math_number" id="MD+TyQG:(8P0P#z;4h%O"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="y1q*7A)*/iK$b0Aq.MrO"><field name="OP">ADD</field><value name="A"><shadow type="math_number" id="aNdxWlW6i(0|u*C*l_?7"><field name="NUM">0</field></shadow><block type="variables_get" id="i1,3RK6wRXRM#`(pPZCG"><field name="VAR" id="BHl}de=6;IzCK?o)/Dnv">light2</field></block></value><value name="B"><shadow type="math_number" id="@~bagD*-z]:?W??^mxgt"><field name="NUM">0</field></shadow><block type="variables_get" id="[6PsTQ0:Kvr,:v:1[*Mw"><field name="VAR" id="xpE]C5BOXFFI.2rvc~C]">threshold</field></block></value></block></value></block></value><statement name="DO0"><block type="variables_set" id="QzzVe3VTOWy[KPyA1S#_"><field name="VAR" id="u`mzLa^:Jwv%;,xe1zS6">servoAngle</field><comment pinned="false" h="80" w="160">Quay servo sang phải</comment><value name="VALUE"><shadow type="math_number" id="~^Ke6X~=b~gw*Y,l3+Zt"><field name="NUM">0</field></shadow><block type="math_op2" id="8AaS9NR-qR|qNy}gMbB8"><field name="op">min</field><value name="x"><block type="math_arithmetic" id="[Wro`!DtjHG33R1Z!)#0"><field name="OP">ADD</field><value name="A"><shadow type="math_number" id="+/ogeKEoCU;5w8J]EO|;"><field name="NUM">0</field></shadow><block type="variables_get" id="[yy,fYR_;Yc@_!%?L?2{"><field name="VAR" id="u`mzLa^:Jwv%;,xe1zS6">servoAngle</field></block></value><value name="B"><shadow type="math_number" id="{}NQ0yG[eksEZXn7-;dc"><field name="NUM">0.5</field></shadow></value></block></value><value name="y"><shadow type="math_number" id="kEvBg-u^s`-i=s)e+9Z2"><field name="NUM">135</field></shadow></value></block></value></block></statement><value name="IF1"><shadow type="logic_boolean" id="or638HQ(}2UdVF~wu=b#"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="4]W=-)q-LJ}a]l9S7e[u"><field name="OP">GT</field><value name="A"><shadow type="math_number" id="h,.hS?zZ.VQZ(AFtIsHn"><field name="NUM">0</field></shadow><block type="variables_get" id="1p(C_j,mB6YiaO9frsM^"><field name="VAR" id="BHl}de=6;IzCK?o)/Dnv">light2</field></block></value><value name="B"><shadow type="math_number" id="BM4Lp^iR~t5b#Xt(MX_V"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="F9p2uo*Wwoer-xuH[X`Y"><field name="OP">ADD</field><value name="A"><shadow type="math_number" id="DCL0?I8#4?*R[xDZk2{t"><field name="NUM">0</field></shadow><block type="variables_get" id="OU2./8NaXR,v0f{6nKzx"><field name="VAR" id="IdZrGR2,|AMeHm`@N@=z">light1</field></block></value><value name="B"><shadow type="math_number" id="p,gl]QC3Kkb[,3o=ri+W"><field name="NUM">0</field></shadow><block type="variables_get" id="I*L/(Qe$nMO|!F^ft;/M"><field name="VAR" id="xpE]C5BOXFFI.2rvc~C]">threshold</field></block></value></block></value></block></value><statement name="DO1"><block type="variables_set" id="*gt*l/dkEnagMJ`awtF*"><field name="VAR" id="u`mzLa^:Jwv%;,xe1zS6">servoAngle</field><comment pinned="false" h="80" w="160">Quay servo sang trái</comment><value name="VALUE"><shadow type="math_number" id="3a-;{Xjym!7LO~!u]d;C"><field name="NUM">0</field></shadow><block type="math_op2" id="98IUp5$VbvR(z8}1lRjk"><field name="op">max</field><value name="x"><block type="math_arithmetic" id="cf!::Q:|jcgA~wN/(V/u"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="xT.3_WHA](q8J5WT=R8,"><field name="NUM">0</field></shadow><block type="variables_get" id="EJ#kHYW)g9N-~hoe|/9Z"><field name="VAR" id="u`mzLa^:Jwv%;,xe1zS6">servoAngle</field></block></value><value name="B"><shadow type="math_number" id="UuapvQ67bIm32st[ZZ9Q"><field name="NUM">0.5</field></shadow></value></block></value><value name="y"><shadow type="math_number" id="VGs4Q25J5^CH^^w.N1@0"><field name="NUM">45</field></shadow></value></block></value></block></statement><next><block type="device_set_servo_pin" id="m9x/lhN)5{(`e5_33tn)"><comment pinned="false" h="80" w="160">Điều chỉnh servo theo góc tính được</comment><value name="name"><shadow type="analog_pin_shadow" id="[D:ofkJ35M7d:kKSq@Vd"><field name="pin">AnalogPin.P16</field></shadow></value><value name="value"><shadow type="math_number_minmax" id="?o07q]3hmXRkx)A^q^BW"><mutation min="0" max="180" precision="0"></mutation><field name="SLIDER">0</field></shadow><block type="variables_get" id="d~`LOehl6Xu/Q;+pY$^Y"><field name="VAR" id="u`mzLa^:Jwv%;,xe1zS6">servoAngle</field></block></value></block></next></block></next></block></next></block></statement></block><block type="device_forever" id="#Q{w?;lv9utY3@hR^Xpn" x="1128" y="559"><statement name="HANDLER"><block type="device_plot" id="Y:q]qskP1Y5bIttuq#?g"><value name="x"><shadow type="math_number_minmax" id="c9:XsXyBu7GG+V}C9s*u"><mutation min="0" max="4" label="X" precision="1"></mutation><field name="SLIDER">0</field></shadow><block type="device_random" id="`;a-i$yaOCre`nT*a`vG"><value name="min"><shadow type="math_number" id="K=o;*8TJ@P@|hdZ*ec?K"><field name="NUM">0</field></shadow></value><value name="limit"><shadow type="math_number" id="89lLQ^_MB%4XH(544p,R"><field name="NUM">4</field></shadow></value></block></value><value name="y"><shadow type="math_number_minmax" id="b++@W~X=Nwj`wiSvHJf7"><mutation min="0" max="4" label="Y" precision="1"></mutation><field name="SLIDER">0</field></shadow><block type="device_random" id="Y$K`G7}G$QAeIHZ^YQ=*"><value name="min"><shadow type="math_number" id="rj]}?c5?H=6,,{w~JB86"><field name="NUM">0</field></shadow></value><value name="limit"><shadow type="math_number" id=".j]*R-qY^5l,M+`h~W_t"><field name="NUM">4</field></shadow></value></block></value><next><block type="serial_writenumbers" id="FV6Hg%_~9zRdS#z//BJP"><value name="values"><block type="lists_create_with" id="6m+YEvz2K?ffs#UJbO:V" inline="false"><mutation items="3" horizontalafter="2"></mutation><value name="ADD0"><shadow type="math_number" id="7(*]Cib`r~gI(*1}~-ct"><field name="NUM">0</field></shadow><block type="variables_get" id="QJXUT;uwbEa.kecZFT=0"><field name="VAR" id="IdZrGR2,|AMeHm`@N@=z">light1</field></block></value><value name="ADD1"><shadow type="math_number" id="JOU^gUT*CGo-~}ESlhC`"><field name="NUM">1</field></shadow><block type="variables_get" id="hTe8Dtrq@u5)l./mrZk^"><field name="VAR" id="BHl}de=6;IzCK?o)/Dnv">light2</field></block></value><value name="ADD2"><shadow type="math_number" id="QQCIUIig~I%LZvGX(VoL"><field name="NUM">0</field></shadow><block type="variables_get" id="1#K,i8bZ]*d4]8Nx~8An"><field name="VAR" id="u`mzLa^:Jwv%;,xe1zS6">servoAngle</field></block></value></block></value><next><block type="makerbit_lcd_show_string_on_1602" id="*N5)wTCix1Pk2tOJl6dO"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="1" _input_init="true"></mutation><field name="option">TextOption.AlignLeft</field><value name="text"><shadow type="text" id="o|j1SJDr+J/+-M8#o4h9"><field name="TEXT"></field></shadow><block type="text_join" id="77hur`_EHZW:hd@oJBlG"><mutation items="2"></mutation><value name="ADD0"><shadow type="text" id="oV3w@]wEjtaAPXva4ocX"><field name="TEXT">L1:</field></shadow></value><value name="ADD1"><shadow type="text" id="=D=`k?vK}Xe#!*h^m$2:"><field name="TEXT">World</field></shadow><block type="variables_get" id=";ji[x4OhdfZfTNiH86Ze"><field name="VAR" id="IdZrGR2,|AMeHm`@N@=z">light1</field></block></value></block></value><value name="startPosition"><shadow type="makerbit_lcd_position_1602" id="nGwh^p#c$^XY`10BZC6G"><field name="pos">LcdPosition1602.Pos1</field></shadow></value><value name="length"><shadow type="math_number_minmax" id="Wa/?GA?Oq9[E)C7Eh`L%"><mutation min="1" max="32" label="Length" precision="1"></mutation><field name="SLIDER">8</field></shadow></value><next><block type="makerbit_lcd_show_string_on_1602" id="pfz`[3Gh%t(VXL#5_aQQ"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="1" _input_init="true"></mutation><field name="option">TextOption.AlignLeft</field><value name="text"><shadow type="text" id="b5muN$[e[VUhLaI8NzJw"><field name="TEXT"></field></shadow><block type="text_join" id="5Y1,mHW^RP{4ddZ};Wfs"><mutation items="2"></mutation><value name="ADD0"><shadow type="text" id="i_|TaXk:eJoX!RL4X?6U"><field name="TEXT">L2:</field></shadow></value><value name="ADD1"><shadow type="text" id="R-cl.=a/h8S$o.563^nP"><field name="TEXT">World</field></shadow><block type="variables_get" id="*d27ws%OmwMvL_o,1[Sc"><field name="VAR" id="BHl}de=6;IzCK?o)/Dnv">light2</field></block></value></block></value><value name="startPosition"><shadow type="makerbit_lcd_position_1602" id="gebVo-u|AI$cN/A~3RkL"><field name="pos">LcdPosition1602.Pos9</field></shadow></value><value name="length"><shadow type="math_number_minmax" id="sK,:nk)dl/YQfn{!Eug{"><mutation min="1" max="32" label="Length" precision="1"></mutation><field name="SLIDER">8</field></shadow></value><next><block type="makerbit_lcd_show_string_on_1602" id="1x)pU}8Ud#tz/BAGPnmO"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="1" _input_init="true"></mutation><field name="option">TextOption.AlignLeft</field><value name="text"><shadow type="text" id="USbH^etUvn1$~_j2V;|p"><field name="TEXT"></field></shadow><block type="text_join" id="NLFO6q-[`%L_9{RVBE76"><mutation items="2"></mutation><value name="ADD0"><shadow type="text" id="kDG@FWMQ+*(?;pRb^{B%"><field name="TEXT">Th:</field></shadow></value><value name="ADD1"><shadow type="text" id="!JU-bv2,.Sq-XEwC@Z:Q"><field name="TEXT">World</field></shadow><block type="variables_get" id="UCieE`*^=oi$n^_Q+skS"><field name="VAR" id="xpE]C5BOXFFI.2rvc~C]">threshold</field></block></value></block></value><value name="startPosition"><shadow type="makerbit_lcd_position_1602" id=".!%~l,:E)A.Dlirh$+l_"><field name="pos">LcdPosition1602.Pos17</field></shadow></value><value name="length"><shadow type="math_number_minmax" id="6+lfiFE9D^^_H,}ydY8e"><mutation min="1" max="32" label="Length" precision="1"></mutation><field name="SLIDER">8</field></shadow></value><next><block type="makerbit_lcd_show_string_on_1602" id="{h%!_fk?K)S@U+KP%QIv"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="1" _input_init="true"></mutation><field name="option">TextOption.AlignLeft</field><value name="text"><shadow type="text" id="wH9ccW|aJ:5gPk#3%e_W"><field name="TEXT"></field></shadow><block type="text_join" id="(Ny,A[xi%Qw{=BR$zPmf"><mutation items="2"></mutation><value name="ADD0"><shadow type="text" id="*~trT~1+1eCZ7~+!zW7|"><field name="TEXT">An:</field></shadow></value><value name="ADD1"><shadow type="text" id="og1]QnSU-i:lzYWSO1e9"><field name="TEXT">World</field></shadow><block type="variables_get" id="A/8^Mohg+3E9``BkLs}q"><field name="VAR" id="u`mzLa^:Jwv%;,xe1zS6">servoAngle</field></block></value></block></value><value name="startPosition"><shadow type="makerbit_lcd_position_1602" id="end1$LwMnv~4rqSXx$dd"><field name="pos">LcdPosition1602.Pos25</field></shadow></value><value name="length"><shadow type="math_number_minmax" id="Tf8cm7#8Mm_0qMJl+D{+"><mutation min="1" max="32" label="Length" precision="1"></mutation><field name="SLIDER">8</field></shadow></value><next><block type="makerbit_lcd_makecharacter" id="eni5r+UL)B?/}=k%(jXs"><field name="char">LcdChar.c1</field><value name="im"><block type="makerbit_lcd_characterpixels" id="xn#%r]dZN/yMiGrASU^6"><field name="LEDS">`
        . . # . . 
        . # . # . 
        . . # . . 
        . . . . . 
        . . . . . 
        . . . . . 
        . . . . . 
        . . . . .
        `</field></block></value><next><block type="makerbit_lcd_showchararacter1602" id="=faI!a)Jkk[akwm%Wgh^"><field name="char">LcdChar.c1</field><value name="position"><shadow type="makerbit_lcd_position_1602" id="*V4DO)#q}N.BE-LOvy,6"><field name="pos">LcdPosition1602.Pos31</field></shadow></value><next><block type="device_pause" id="FXq9z+?-B:jH(!,fsnNN"><value name="pause"><shadow type="timePicker" id="%%e`(2V=;hS_XYyqM=^x"><field name="ms">100</field></shadow></value><next><block type="device_clear_display" id="+Q5KAwC)AL*S;F8/VTTz"></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></xml>